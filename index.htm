<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>复制简体文字（替代 name，保留输入）</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .line {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    .text {
      margin-right: 10px;
      white-space: pre;
      flex: 1;
    }
    button {
      cursor: pointer;
    }
    #nameInput {
      margin-bottom: 20px;
      padding: 6px 10px;
      font-size: 16px;
      width: 200px;
    }
  </style>
</head>
<body>

<h2>输入名字，复制时替换 "name"，并保存输入内容</h2>

<label for="nameInput">输入名字：</label>
<input type="text" id="nameInput" />

<div id="content"></div>

<script>
  const STORAGE_KEY = 'savedName';

  const lines = [
    "1头衔 name 王后",
    "1头衔 name 将军",
    "1头衔 name 首相",
    "1头衔 name 参谋",
    "1头衔 name 典狱长",
    "1头衔 name 祭司",
    "1头衔 name 军需官",
    "1头衔 name 建筑师",
    "1头衔 name 大学士",
    "1头衔 name 懦夫",
    "1头衔 name 小人",
    "1头衔 name 小丑",
    "1头衔 name 奴隶",
    "1头衔 name 奸细",
    "1头衔 name 重刑犯",
    "1头衔 name 脏鬼",
    "1头衔 name 懒人",
    "1头衔 name 傻瓜",
    "1余额",
    "1石 1k",
    "1铁 1k",
    "1木 1k",
    "1金 1k",
    "1米 1k"
  ];

  const contentDiv = document.getElementById('content');
  const nameInput = document.getElementById('nameInput');

  // 頁面載入時從 localStorage 讀取存的名字
  const savedName = localStorage.getItem(STORAGE_KEY);
  if (savedName) {
    nameInput.value = savedName;
  }

  // 輸入框改變時儲存
  nameInput.addEventListener('input', () => {
    localStorage.setItem(STORAGE_KEY, nameInput.value);
  });

  lines.forEach(line => {
    const div = document.createElement('div');
    div.className = 'line';

    const span = document.createElement('span');
    span.className = 'text';
    span.textContent = line;

    const button = document.createElement('button');
    button.textContent = '复制';
    button.setAttribute('aria-label', `复制文本: ${line}`);

    button.onclick = () => {
      const inputVal = nameInput.value.trim();
      const safeName = inputVal.replace(/\s+/g, '_');

      let textToCopy = line;

      if (line.includes('name')) {
        if (safeName) {
          textToCopy = line.replace(/\bname\b/g, safeName);
        }
      }

      if (navigator.clipboard) {
        navigator.clipboard.writeText(textToCopy)
          .then(() => alert(`已复制: ${textToCopy}`))
          .catch(() => alert('复制失败'));
      } else {
        alert('当前浏览器不支持剪贴板API');
      }
    };

    div.appendChild(span);
    div.appendChild(button);
    contentDiv.appendChild(div);
  });
</script>

</body>
</html>
